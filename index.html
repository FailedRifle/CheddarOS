<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>CheddarOS Loader</title>
  <style>
    body {
      background-color: #000;
      margin: 0;
      overflow: hidden;
      font-family: Consolas, monospace;
      color: #ccc;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }
  </style>
</head>
<body>

<script>
(function() {

  // --- CheddarOS FULL SYSTEM ---
  const cheddarOSSource = `
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CheddarOS</title>
<style>
body,html{
margin:0;
padding:0;
height:100%;
background:#0C0C0C;
color:#CCCCCC;
font-family:Consolas,monospace;
overflow:hidden;
}
#terminal-ui{
padding:12px;
display:flex;
flex-direction:column;
height:100vh;
width:100vw;
box-sizing:border-box;
overflow-y:auto;
}
.log-line{margin-bottom:2px;font-size:15px;white-space:pre-wrap;}
.input-area{display:flex;align-items:center;margin-top:4px;}
.prompt{margin-right:4px;}
input{
background:transparent;
border:none;
color:#fff;
font-family:Consolas,monospace;
font-size:15px;
outline:none;
width:100%;
}
.cursor{
display:inline-block;
width:8px;
height:15px;
background:#ccc;
animation:blink 1s infinite;
margin-left:2px;
}
@keyframes blink{
0%,49%{opacity:1;}
50%,100%{opacity:0;}
}
</style>
</head>
<body onclick="document.getElementById('terminalInput').focus()">

<div id="terminal-ui">
<div class="log-line">CheddarOS [Version 10.0.19045.4291]</div>
<div class="log-line">(c) Cheddar Corporation. All rights reserved.</div>
<br>
<div id="history">
<div class="log-line">System is currently LOCKED. Enter passkey:</div>
</div>

<div class="input-area">
<span class="prompt" id="prompt-text">C:\\Users\\redacted></span>
<input type="text" id="terminalInput" autofocus autocomplete="off">
<span class="cursor"></span>
</div>
</div>

<script>
let currentState="LOCKED";
const gateway="zyx";
const input=document.getElementById("terminalInput");
const historyArea=document.getElementById("history");

function atbash(str){
const a="abcdefghijklmnopqrstuvwxyz";
const r="zyxwvutsrqponmlkjihgfedcba";
return str.toLowerCase().split("").map(c=>{
const i=a.indexOf(c);
return i>-1?r[i]:c;
}).join("");
}

input.addEventListener("keydown",function(e){
if(e.key==="Enter"){
const raw=input.value.trim();
if(!raw)return;
historyArea.innerHTML+=
'<div class="log-line">'+
document.getElementById("prompt-text").innerText+
' '+raw+
'</div>';

const block=document.createElement("div");
block.className="log-line";

if(currentState==="LOCKED"){
if(atbash(raw)===gateway){
block.textContent="ACCESS GRANTED. SYSTEM UNLOCKED.";
currentState="COMMAND_MODE";
}else{
block.textContent="ACCESS DENIED.";
}
}else{
if(raw==="clear"){
historyArea.innerHTML="";
}else if(raw==="help"){
block.textContent="Available commands: help, clear";
}else{
block.textContent="'"+raw+"' is not recognized.";
}
}

historyArea.appendChild(block);
input.value="";
}
});
<\/script>

</body>
</html>
`;

  // Open CheddarOS in new window
  const win = window.open("about:blank", "_blank");
  if (win) {
    win.document.write(cheddarOSSource);
    win.document.close();

    // Close loader window
    setTimeout(() => {
      window.close();
    }, 100);
  }

})();
</script>

</body>
</html>
