<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CheddarOS</title>
    <style>
        body, html {
            margin: 0; padding: 0; height: 100%;
            background-color: #0C0C0C;
            color: #CCCCCC;
            font-family: 'Consolas', 'Lucida Console', monospace;
            overflow: hidden;
        }
        #terminal-ui {
            padding: 12px; display: flex; flex-direction: column;
            height: 100vh; width: 100vw; box-sizing: border-box;
            overflow-y: auto; position: relative;
        }
        .log-line { margin-bottom: 2px; white-space: pre-wrap; line-height: 1.2; font-size: 15px; }
        .cmd-output-block { margin-bottom: 15px; }
        .input-wrapper { position: relative; display: flex; flex-grow: 1; align-items: center; }
        .input-area { display: flex; align-items: center; margin-top: 2px; }
        .prompt { margin-right: 4px; color: #CCCCCC; white-space: nowrap; }
        input {
            background: transparent; border: none; color: #FFFFFF;
            font-family: 'Consolas', monospace; font-size: 15px;
            outline: none; width: 100%; padding: 0; z-index: 2;
        }
        #ghost-input {
            position: absolute; top: 0; left: 0; color: #555555;
            font-family: 'Consolas', monospace; font-size: 15px;
            pointer-events: none; z-index: 1;
        }
        .cursor {
            display: inline-block; width: 8px; height: 15px;
            background-color: #CCCCCC; animation: blink 1s infinite;
            vertical-align: middle; margin-left: 2px;
        }
        @keyframes blink { 0%, 49% { opacity: 1; } 50%, 100% { opacity: 0; } }
    </style>
</head>
<body onclick="document.getElementById('terminalInput').focus()">
    <div id="terminal-ui">
        <div class="log-line">CheddarOS [Version 10.0.19045.4291]</div>
        <div class="log-line">(c) Cheddar Corporation. All rights reserved.</div>
        <br>
        <div id="history">
            <div class="log-line">System is currently LOCKED. Enter passkey:</div>
        </div>
        <div class="input-area">
            <span class="prompt" id="prompt-text">C:\\Users\\redacted></span>
            <div class="input-wrapper">
                <input type="text" id="terminalInput" autofocus spellcheck="false" autocomplete="off">
                <div id="ghost-input"></div>
            </div>
            <span class="cursor"></span>
        </div>
    </div>

    <script>
        let currentState = "LOCKED";
        const gateway = "zyx";
        const CDN = "https://failedrifle.github.io/FNAE-HTML5-1.2.2-fix/";
        let isLaunching = false;
        let cmdHistory = [];
        let historyIdx = -1;

        function atbash(str) {
            const alpha = "abcdefghijklmnopqrstuvwxyz";
            const rev = "zyxwvutsrqponmlkjihgfedcba";
            return str.toLowerCase().split('').map(c => {
                const i = alpha.indexOf(c);
                return i > -1 ? rev[i] : c;
            }).join('');
        }

        const fnaeHTML = `<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>fnae</title><base href="` + CDN + `"><link rel="stylesheet" href="` + CDN + `style.css"></head><body><div id="preloader"><div class="preloader-content"><div class="preloader-logo">FIVE NIGHTS<br>AT EPSTEIN'S</div><div class="preloader-spinner"><div class="spinner-ring"></div><div class="spinner-ring"></div><div class="spinner-ring"></div></div><div class="preloader-text">LOADING<span class="loading-dots">...</span></div><div class="preloader-progress"><div class="progress-bar" id="progress-bar"></div></div><div class="preloader-percentage" id="preloader-percentage">0%</div></div></div><div id="game-container"><div id="game-screen"><img id="current-scene" src="" alt="" style="display:none;"><div id="hotspots"></div><div id="ui-overlay"><div id="top-left-ui"><div id="time-display"><span id="time-value">12 AM</span></div><div id="night-display">NIGHT <span id="night-value">1</span></div></div><div id="bottom-right-ui"><div id="oxygen-display"><img src="assets/images/fa3.png" alt="Vent" class="vent-icon"><span id="power-value">100</span><span class="percent-sign">%</span><span class="oxygen-unit">O<sub>2</sub></span></div></div></div></div><div id="camera-panel" class="hidden"><div id="current-cam-label">CAM 11</div><div id="camera-error-label">ERR</div><div id="character-overlay"></div><div id="camera-grid"></div><button id="shock-hawking-btn">ELECTROCUTE</button><button id="play-sound-btn">PLAY SOUND</button><video id="camera-static-video" loop muted playsinline><source src="assets/vedio/202512191935.webm" type="video/webm"></video></div><div id="cutscene" class="hidden"><img src="assets/images/cutscene.png" alt="Cutscene"><div class="cutscene-hint">Click to continue...</div></div><div id="night-intro" class="hidden"><div id="night-intro-text">NIGHT 1</div></div><div id="main-menu"><img id="star-icon" class="hidden" src="assets/images/star.png" alt="Star"><img id="star-icon-2" class="hidden" src="assets/images/star.png" alt="Star 2"><img id="star-icon-3" class="hidden" src="assets/images/star.png" alt="Star 3"><h1>FIVE<br>NIGHTS<br>AT<br>EPSTEIN'S</h1><button id="start-game">NEW GAME</button><button id="continue-game" class="hidden">CONTINUE</button><button id="special-night-btn" class="hidden">EPSTEIN'S SPECIAL NIGHT</button><button id="custom-night-btn" class="hidden">CUSTOM NIGHT</button><div class="copyright">HTML5 remake by CheddarOS</div><div class="version">v1.2.2</div></div><button id="volume-btn" title="Volume Settings">SOUND SETTINGS</button><div id="volume-panel" class="hidden"><h3>VOLUME SETTINGS</h3><div class="volume-item"><label>Master Volume</label><div class="volume-slider-container"><input type="range" id="master-volume" min="0" max="100" value="70"><span class="volume-percent">70%</span></div></div><div class="volume-item"><label>Game Background Music</label><div class="volume-slider-container"><input type="range" id="game-bg-volume" min="0" max="100" value="70"><span class="volume-percent">70%</span></div></div><div class="volume-item"><label>Menu Music</label><div class="volume-slider-container"><input type="range" id="menu-music-volume" min="0" max="100" value="70"><span class="volume-percent">70%</span></div></div><div class="volume-item"><label>Jumpscare Sounds</label><div class="volume-slider-container"><input type="range" id="jumpscare-volume" min="0" max="100" value="70"><span class="volume-percent">70%</span></div></div><div class="volume-item"><label>Trump Vent Crawling</label><div class="volume-slider-container"><input type="range" id="vent-crawling-volume" min="0" max="100" value="70"><span class="volume-percent">70%</span></div></div><button id="close-volume-panel">CLOSE</button></div><div id="custom-night-menu" class="hidden"><h1>CUSTOM NIGHT</h1><div class="custom-night-controls"><div class="ai-control"><div class="ai-name">EPSTEIN</div><div class="ai-slider-container"><button class="ai-btn-minus" data-ai="epstein">-</button><input type="range" id="epstein-slider" class="ai-slider" min="0" max="20" value="0"><button class="ai-btn-plus" data-ai="epstein">+</button></div><div class="ai-value" id="epstein-value">0</div></div><div class="ai-control"><div class="ai-name">TRUMP</div><div class="ai-slider-container"><button class="ai-btn-minus" data-ai="trump">-</button><input type="range" id="trump-slider" class="ai-slider" min="0" max="20" value="0"><button class="ai-btn-plus" data-ai="trump">+</button></div><div class="ai-value" id="trump-value">0</div></div><div class="ai-control"><div class="ai-name">HAWKING</div><div class="ai-slider-container"><button class="ai-btn-minus" data-ai="hawking">-</button><input type="range" id="hawking-slider" class="ai-slider" min="0" max="20" value="0"><button class="ai-btn-plus" data-ai="hawking">+</button></div><div class="ai-value" id="hawking-value">0</div></div></div><div class="custom-night-buttons"><button id="start-custom-night">START</button><button id="back-to-menu">BACK</button></div></div><canvas id="static-canvas"></canvas><audio id="menu-music" loop><source src="assets/sounds/music3.ogg" type="audio/ogg"></audio><div id="game-over" class="hidden"><video id="game-over-static" loop muted playsinline autoplay><source src="assets/vedio/202512191935.webm" type="video/webm"></video><div id="game-over-content"><h2 id="game-over-text"></h2><p id="game-over-subtitle" class="hidden"></p><button id="restart">Restart</button><button id="main-menu-btn">Main Menu</button></div></div><div id="tutorial-overlay" class="hidden"><div id="tutorial-content"><h2>DEFEND YOURSELF AGAINST EPSTEIN</h2><p>EPSTEIN ALWAYS STARTS AT CAM 11. USE THE CAMERA'S AUDIO LURE TO KEEP EPSTEIN FAR AWAY FROM YOU. MAKE SURE THE CAMERA YOU'RE PLAYING THE SOUND IN IS NEXT TO THE CAMERA WHERE EPSTEIN IS. PLAYING SOUND IN ONLY ONE SPOT WILL NOT WORK IF YOU DO IT TWICE OR MORE IN A ROW. USING THE AUDIO LURE TOO MUCH WILL LEAD TO THE CAMERAS BREAKING. TO FIX THEM HEAD TO THE CONTROL PANEL AND RESTART THE CAMERAS LIKE YOU JUST DID. EPSTEIN DOES NOT ATTACK THROUGH THE VENTS SO DON'T BOTHER CLOSING THEM FOR THIS NIGHT.</p><button id="tutorial-got-it">GOT IT</button></div></div></div><script src="` + CDN + `js/GameState.js"><\/script><script src="` + CDN + `js/AssetManager.js"><\/script><script src="` + CDN + `js/UIManager.js"><\/script><script src="` + CDN + `js/CameraSystem.js"><\/script><script src="` + CDN + `js/EnemyAI.js"><\/script><script src="` + CDN + `js/InputHandler.js"><\/script><script src="` + CDN + `js/StaticNoise.js"><\/script><script src="` + CDN + `js/ScaryFaceFlicker.js"><\/script><script src="` + CDN + `js/Game.js"><\/script><script src="` + CDN + `js/main.js"><\/script></body></html>`;
        const mcHTML = `<!DOCTYPE html><html><head><meta charset="UTF-8"><title>minecraft v1.12.2</title><script>window.__eaglercraftLoaderClient={container:"game_frame",name:"Eaglercraft 1.12",file:"net.peytonplayz585.eaglercraft.v1_12.client",cid:"bafybeidrnchyech7b26rqhm3tayt7p6mxvl23lzd4f5mcyqda7hbrzyal4",path:"",download:"https://cdn.jsdelivr.net/gh/genizy/mc@main/data/1.12.2.gz",dlSize:15601341,gzip:true};<\/script><script src="https://cdn.jsdelivr.net/gh/genizy/mc@main/shared/loader.js"><\/script><style>body,html{margin:0;width:100%;height:100%;overflow:hidden;background:#000;}</style></head><body><div id="game_frame" style="width:100%;height:100%;"></div></body></html>`;
        const nzHTML = `<!doctype html><html lang="en-us"><head><base href="https://rawcdn.githack.com/gn-math/assets/main/308/"><meta charset="utf-8"><title>zombies</title><link rel="icon" href="data:,"><style>html,body{background-color:#000;margin:0;padding:0;width:100vw;height:100vh;overflow:hidden;}canvas.emscripten{width:100%;height:100%;display:block;image-rendering:crisp-edges;}#status{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);color:#555;font-family:monospace;}</style></head><body><div id="status">Initializing...</div><canvas class="emscripten" id="canvas" oncontextmenu="event.preventDefault()"></canvas><script type='text/javascript'>var Module={arguments:['-width','1280','-height','720','+vid_pixelscale','2','+r_shadows','0','+r_dynamic','0','+gl_texturemode','gl_nearest','+cl_maxfps','60'],files:{"default.fmf":"default.fmf","nzp/game.pk3":"nzp/game.pk3","nzp/progs.pk3":"nzp/progs.pk3"},canvas:document.getElementById('canvas'),setStatus:function(text){var s=document.getElementById('status');if(s)s.innerHTML=text;if(!text)s.style.display='none';}};(function(){var s=document.createElement('script');s.src="ftewebgl.js";s.async=true;document.head.appendChild(s);})();<\/script></body></html>`;
        const gdHTML = `<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="utf-8"> <title>geometry dash</title> <style> body { margin: 0; background-image: linear-gradient(rgb(0, 0, 0), rgb(0, 102, 255)); overflow: hidden; display: flex; justify-content: center; align-items: center; height: 100vh; } #gameContainer { width: 100vw; height: 100vh; } #loader { position: absolute; width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; background: black; z-index: 10; } .progress { width: 50%; height: 20px; background: #333; border: 2px solid #fff; margin-top: 20px; } .full { width: 100%; height: 100%; background: #00ff00; transform: scaleX(0); transform-origin: left; } </style> </head> <body> <div id="loader"> <div class="progress"> <div class="full" id="progressBar"></div> </div> </div> <div id="gameContainer"></div> <script src="https://rawcdn.githack.com/genizy/google-class/main/gdlite/Build/UnityLoader.js"><\/script> <script> var gameInstance = UnityLoader.instantiate("gameContainer", "https://rawcdn.githack.com/genizy/google-class/main/gdlite/Build/GeometryDashLite.json", { onProgress: UnityProgress }); function UnityProgress(gameInstance, progress) { if (!gameInstance.Module) return; const loader = document.querySelector("#loader"); const progressBar = document.querySelector("#progressBar"); progressBar.style.transform = "scaleX(" + progress + ")"; if (progress === 1) { setTimeout(() => { loader.style.display = "none"; }, 1500); } } <\/script> </body> </html>`;

        const sites = {
            "fnae": { name: "Five Nights at Epstein's", content: fnaeHTML },
            "geodash": { name: "Geometry Dash Lite", content: gdHTML },
            "minecraft": { name: "Minecraft v1.12.2", content: mcHTML },
            "zombies": { name: "COD Nazi Zombies", content: nzHTML }
        };

        const commandDetails = {
            "changelog": "View recent system updates.",
            "clear": "Clear the terminal screen.",
            "credits": "View the authors and contributors.",
            "gamelist": "List all available games.",
            "help": "Display this help menu."
        };

        const inputField = document.getElementById("terminalInput");
        const ghostField = document.getElementById("ghost-input");
        const historyArea = document.getElementById("history");
        const ui = document.getElementById("terminal-ui");
        const allSuggestions = [...Object.keys(commandDetails), ...Object.keys(sites)].sort();

        function openInBlank(siteObj) {
            const newWin = window.open('about:blank', '_blank');
            if (!newWin || newWin.closed || typeof newWin.closed == 'undefined') {
                return false;
            }
            newWin.document.write(siteObj.content);
            newWin.document.close();
            return true;
        }

        async function fakeLoad(siteKey) {
            isLaunching = true;
            inputField.disabled = true;
            const siteData = sites[siteKey];
            const totalAssets = siteData.content.length;
            const duration = Math.min((totalAssets / 300) * 1500, 4000);

            const outputBlock = document.createElement("div");
            outputBlock.className = "cmd-output-block";
            historyArea.appendChild(outputBlock);

            outputBlock.innerHTML += '<div class="log-line">Scanning bitstream for ' + siteData.name + '...</div>';

            const loadLine = document.createElement("div");
            loadLine.className = "log-line";
            outputBlock.appendChild(loadLine);

            const startTime = Date.now();
            while (true) {
                const elapsed = Date.now() - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const current = Math.floor(progress * totalAssets);
                loadLine.innerText = 'LOADING ASSETS: [' + current + '/' + totalAssets + ']';
                ui.scrollTop = ui.scrollHeight;
                if (progress >= 1) break;
                let jitter = (Math.random() > 0.9) ? 60 : 15;
                await new Promise(r => setTimeout(r, jitter));
            }

            const success = openInBlank(siteData);

            if (success) {
                outputBlock.innerHTML += '<div class="log-line" style="color: #00FF00;">' + siteData.name + ' launched successfully.</div>';
            } else {
                outputBlock.innerHTML += '<div class="log-line" style="color: #FF5555;">ERROR: Popup was blocked by browser.</div>';
                outputBlock.innerHTML += '<div class="log-line" style="color: #FF5555;">Please allow popups and type "' + siteKey + '" again.</div>';
            }

            isLaunching = false;
            inputField.disabled = false;
            inputField.focus();
        }

        inputField.addEventListener('input', function() {
            if (currentState !== "COMMAND_MODE") { ghostField.innerText = ""; return; }
            const val = inputField.value.toLowerCase();
            if (!val) { ghostField.innerText = ""; return; }
            const match = allSuggestions.find(s => s.startsWith(val));
            if (match) { ghostField.innerText = val + match.slice(val.length); }
            else { ghostField.innerText = ""; }
        });

        inputField.addEventListener('keydown', function(e) {
            if (isLaunching) return;
            if (e.key === 'ArrowUp') {
                e.preventDefault();
                if (cmdHistory.length > 0) {
                    if (historyIdx < cmdHistory.length - 1) {
                        historyIdx++;
                        inputField.value = cmdHistory[cmdHistory.length - 1 - historyIdx];
                    }
                }
            } else if (e.key === 'ArrowDown') {
                e.preventDefault();
                if (historyIdx > 0) {
                    historyIdx--;
                    inputField.value = cmdHistory[cmdHistory.length - 1 - historyIdx];
                } else {
                    historyIdx = -1;
                    inputField.value = "";
                }
            } else if (e.key === 'Tab') {
                e.preventDefault();
                if (ghostField.innerText) { inputField.value = ghostField.innerText; ghostField.innerText = ""; }
            } else if (e.key === 'Enter') {
                ghostField.innerText = "";
                handleInput();
            }
        });

        function handleInput() {
            const rawInput = inputField.value.trim();
            if (rawInput === "") return;
            cmdHistory.push(rawInput);
            historyIdx = -1;
            const userInput = rawInput.toLowerCase();
            const promptText = document.getElementById("prompt-text");
            const encodedAttempt = atbash(userInput);

            historyArea.innerHTML += '<div class="log-line">' + promptText.innerText + ' ' + rawInput + '</div>';
            const outputBlock = document.createElement("div");
            outputBlock.className = "cmd-output-block";
            historyArea.appendChild(outputBlock);

            if (currentState === "LOCKED") {
                if (encodedAttempt === gateway) {
                    outputBlock.innerHTML += '<div class="log-line">ACCESS GRANTED. SYSTEM UNLOCKED.</div>';
                    outputBlock.innerHTML += '<div class="log-line">Type "help" for a list of commands.</div>';
                    currentState = "COMMAND_MODE";
                } else {
                    outputBlock.innerHTML += '<div class="log-line">ACCESS DENIED. INVALID PASSKEY.</div>';
                }
            }
            else if (currentState === "COMMAND_MODE") {
                if (userInput === "help") {
                    for (let cmd in commandDetails) {
                        outputBlock.innerHTML += '<div class="log-line"> > ' + cmd + ' - ' + commandDetails[cmd] + '</div>';
                    }
                }
                else if (userInput === "clear") {
                    historyArea.innerHTML = "";
                    outputBlock.remove();
                }
                else if (userInput === "credits") {
                    outputBlock.innerHTML += '<div class="log-line">--- CREDITS ---</div>';
                    outputBlock.innerHTML += '<div class="log-line">System Architecture: Cheddar Corporation</div>';
                    outputBlock.innerHTML += '<div class="log-line">Game Porting: Genizy & Web-Ports Contributors</div>';
                    outputBlock.innerHTML += '<div class="log-line">Kernel: CheddarOS v10.0</div>';
                }
                else if (userInput === "changelog") {
                    outputBlock.innerHTML += '<div class="log-line">--- CHANGELOG ---</div>';
                    outputBlock.innerHTML += '<div class="log-line">[v1.2] Added popup blocker error detection.</div>';
                    outputBlock.innerHTML += '<div class="log-line">[v1.1] Improved "gamelist" formatting and game name display.</div>';
                    outputBlock.innerHTML += '<div class="log-line">[v1.0] Initial system release.</div>';
                }
                else if (userInput === "gamelist") {
                    for (let key in sites) {
                        outputBlock.innerHTML += '<div class="log-line"> > ' + key + ' (' + sites[key].name + ')</div>';
                    }
                }
                else if (sites[userInput]) {
                    outputBlock.remove();
                    fakeLoad(userInput);
                }
                else {
                    outputBlock.innerHTML += '<div class="log-line">"' + rawInput + '" is not recognized as a valid command.</div>';
                }
            }
            inputField.value = "";
            ui.scrollTop = ui.scrollHeight;
        }
    </script>
</body>
</html>
